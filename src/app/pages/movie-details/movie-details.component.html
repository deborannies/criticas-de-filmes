<app-navbar></app-navbar>

<section class=" text-white p-6 bg-[#2A2A2A]">
  <img [src]="movie.imageUrl" alt="{{ movie.title }}" class="rounded-lg w-full mb-6 max-h-96 object-cover" />
  <section class="hero  p-8 text-white flex flex-col md:flex-row items-center justify-between">
    <img src="assets/img/duna2.jpg" class="w-full md:w-1/3 rounded-lg" alt="Dune" />
    <div class="mt-6 md:mt-0 md:ml-8">
      <div class="flex gap-2 text-sm mb-2">
        <span class="bg-red-600 px-2 py-1 rounded">Ação</span>
        <span class="bg-red-600 px-2 py-1 rounded">Drama</span>
      </div>
      <h2 class="text-4xl font-bold">Duna: Parte 2</h2>
      <p class="mt-2 text-zinc-400">Em Duna: Parte 2, Paul Atreides (Timothée Chalamet) se une a Chani (Zendaya) e aos Fremen enquanto busca vingança contra os conspiradores que destruíram sua família. Uma jornada espiritual, mística e marcial se inicia. Para se tornar Muad'Dib, enquanto tenta prevenir o futuro horrível, mas inevitável que ele testemunhou, Paul Atreides vê uma Guerra Santa em seu nome, espalhando-se por todo o universo conhecido. Enfrentando uma escolha entre o amor de sua vida e o destino do universo, Paul deve evitar um futuro terrível que só ele pode prever. Se tudo sair como planejado, ele poderá guiar a humanidade para um futuro promissor.</p>
      <div class="mt-4 flex gap-4">
        <button class="bg-red-600 px-4 py-2 rounded text-white">Favoritar</button>
        <button class="border border-white px-4 py-2 rounded text-white">Ver Trailer</button>
      </div>
    </div>
  </section>

  <section class="mb-6">
    <h3 class="text-2xl font-bold mb-4">Avaliações de críticos</h3>
    <app-review-card *ngFor="let review of movie.critics" [review]="review"></app-review-card>
  </section>


  <section class="mb-6">
    <h3 class="text-2xl font-bold mb-4">Avaliações do Público</h3>
    <app-review-card *ngFor="let review of audience" [review]="review"></app-review-card>
  </section>

  <section class="bg-zinc-800 p-4 rounded">
    <h4 class="text-xl font-bold mb-4">Escreva sua crítica</h4>

    <form #form="ngForm" (ngSubmit)="enviarReview()" class="space-y-3">

      <div class="flex gap-1 text-yellow-400 text-xl">
        <label *ngFor="let s of [1, 2, 3, 4, 5]" class="cursor-pointer">
          <input
            type="radio"
            class="hidden"
            name="rating"
            [(ngModel)]="novaNota"
            [value]="s"
            required
          />
          <span [class.opacity-50]="s > novaNota">★</span>
        </label>
      </div>

      <textarea
        [(ngModel)]="novaReview"
        name="review"
        required
        placeholder="Digite sua opinião..."
        class="w-full p-2 rounded bg-zinc-700 text-white resize-none"
        rows="3"
      ></textarea>

      <p class="text-red-400 text-sm" *ngIf="form.submitted && form.invalid">
        Por favor, selecione uma nota e escreva sua crítica.
      </p>

      <button
        type="submit"
        class="px-4 py-2 rounded text-white transition"
        [ngClass]="{
          'bg-red-600 hover:bg-red-700': form.valid,
          'bg-gray-500 cursor-not-allowed': form.invalid
        }"
        [disabled]="form.invalid"
      >
        Enviar Crítica
      </button>
    </form>
  </section>


</section>

<app-footer></app-footer>